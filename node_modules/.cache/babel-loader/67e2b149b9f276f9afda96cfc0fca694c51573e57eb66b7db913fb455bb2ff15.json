{"ast":null,"code":"var _jsxFileName = \"/Users/owner/Desktop/\\u110C\\u1169\\u11AF\\u1111\\u1173 \\u110C\\u1161\\u1105\\u116D/text-summarization-web/src/view/router/service/Service.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./style/Service.scss\";\nimport ReactLoading from 'react-loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Service(props) {\n  _s();\n  const [chatLength, setChatLength] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  const [responseData, setResponseData] = useState([]);\n  const [textValue, setTextValue] = useState(\"\");\n  const [chatList, setChatList] = useState([]);\n  const chatRef = useRef();\n  const handleButtonClick = async () => {\n    await axios.post(\"http://127.0.0.1:5000/summary\", {\n      text: textValue\n    }).then(response => {\n      setResponseData(prevResponseData => [...prevResponseData, response.data]);\n      console.log(response);\n      return;\n\n      // setChatLength(prev => prev + 1);\n      // chatList.push(response.data);\n    }).catch(error => {\n      console.error(error);\n    }).finally(() => setIsLoading(false));\n  };\n  const onTypeEnter = e => {\n    e.preventDefault();\n    if (e.keyCode === 13 && textValue !== '') {\n      //chatList에 추가, 오른쪽에 표시(내 채팅)\n      setIsLoading(true);\n      handleButtonClick();\n      //등록 후 초기화\n    }\n  };\n\n  useEffect(() => {\n    if (chatRef.current) {\n      chatRef.current.scrollTop = chatRef.current.scrollHeight;\n    }\n  }, [chatLength]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"Service\",\n    children: [isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'loading-wrapper',\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'loading',\n        children: /*#__PURE__*/_jsxDEV(ReactLoading, {\n          type: 'bubbles',\n          color: '#8968ef'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-input-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"chat-input\",\n        placeholder: 'Sweet Chat에게 채팅을 전송해 보세요',\n        value: textValue,\n        onChange: e => setTextValue(e.target.value),\n        onKeyUp: e => onTypeEnter(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"enter-btn\",\n        children: \"Enter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n_s(Service, \"9JcNERy7zsy7tJSDS6OmODjXjX8=\");\n_c = Service;\nexport default Service;\nvar _c;\n$RefreshReg$(_c, \"Service\");","map":{"version":3,"names":["React","useEffect","useRef","useState","axios","ReactLoading","jsxDEV","_jsxDEV","Service","props","_s","chatLength","setChatLength","isLoading","setIsLoading","responseData","setResponseData","textValue","setTextValue","chatList","setChatList","chatRef","handleButtonClick","post","text","then","response","prevResponseData","data","console","log","catch","error","finally","onTypeEnter","e","preventDefault","keyCode","current","scrollTop","scrollHeight","id","children","className","type","color","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","target","onKeyUp","_c","$RefreshReg$"],"sources":["/Users/owner/Desktop/졸프 자료/text-summarization-web/src/view/router/service/Service.js"],"sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\nimport axios from \"axios\";\nimport \"./style/Service.scss\";\nimport ReactLoading from 'react-loading'\n\nfunction Service(props) {\n\n    const [chatLength, setChatLength] = useState(0)\n    const [isLoading, setIsLoading] = useState(false);\n    const [responseData, setResponseData] = useState([]);\n    const [textValue, setTextValue] = useState(\"\");\n    const [chatList, setChatList] = useState([]);\n    const chatRef = useRef();\n\n\n    const handleButtonClick = async () => {\n        await axios\n            .post(\"http://127.0.0.1:5000/summary\", {text: textValue})\n            .then((response) => {\n                setResponseData((prevResponseData) => [\n                    ...prevResponseData,\n                    response.data\n                ])\n                console.log(response)\n                return;\n\n                // setChatLength(prev => prev + 1);\n                // chatList.push(response.data);\n            })\n            .catch((error) => {\n                console.error(error);\n            })\n            .finally(() => setIsLoading(false))\n    };\n\n    const onTypeEnter = (e) => {\n        e.preventDefault();\n        if (e.keyCode === 13 && textValue !== '') {\n            //chatList에 추가, 오른쪽에 표시(내 채팅)\n            setIsLoading(true)\n            handleButtonClick();\n            //등록 후 초기화\n        }\n    };\n\n    useEffect(() => {\n        if(chatRef.current){\n            chatRef.current.scrollTop = chatRef.current.scrollHeight;\n        }\n    },[chatLength])\n\n\n    return (\n        <div id={\"Service\"}>\n            {\n                isLoading &&\n                <div className={'loading-wrapper'}>\n                    <div className={'loading'}>\n                        <ReactLoading type={'bubbles'} color={'#8968ef'}/>\n                    </div>\n                </div>\n            }\n\n            <div className=\"chat-input-wrapper\">\n                <input\n                    type=\"text\"\n                    className=\"chat-input\"\n                    placeholder={'Sweet Chat에게 채팅을 전송해 보세요'}\n                    value={textValue}\n                    onChange={(e) => setTextValue(e.target.value)}\n                    onKeyUp={(e) => onTypeEnter(e)}\n                />\n                <div className=\"enter-btn\">Enter</div>\n            </div>\n        </div>\n    );\n}\n\nexport default Service;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAO,OAAO;AACxD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,sBAAsB;AAC7B,OAAOC,YAAY,MAAM,eAAe;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAExC,SAASC,OAAOA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAEpB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGT,QAAQ,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACY,YAAY,EAAEC,eAAe,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACc,SAAS,EAAEC,YAAY,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACgB,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAMkB,OAAO,GAAGnB,MAAM,EAAE;EAGxB,MAAMoB,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IAClC,MAAMlB,KAAK,CACNmB,IAAI,CAAC,+BAA+B,EAAE;MAACC,IAAI,EAAEP;IAAS,CAAC,CAAC,CACxDQ,IAAI,CAAEC,QAAQ,IAAK;MAChBV,eAAe,CAAEW,gBAAgB,IAAK,CAClC,GAAGA,gBAAgB,EACnBD,QAAQ,CAACE,IAAI,CAChB,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC;MACrB;;MAEA;MACA;IACJ,CAAC,CAAC,CACDK,KAAK,CAAEC,KAAK,IAAK;MACdH,OAAO,CAACG,KAAK,CAACA,KAAK,CAAC;IACxB,CAAC,CAAC,CACDC,OAAO,CAAC,MAAMnB,YAAY,CAAC,KAAK,CAAC,CAAC;EAC3C,CAAC;EAED,MAAMoB,WAAW,GAAIC,CAAC,IAAK;IACvBA,CAAC,CAACC,cAAc,EAAE;IAClB,IAAID,CAAC,CAACE,OAAO,KAAK,EAAE,IAAIpB,SAAS,KAAK,EAAE,EAAE;MACtC;MACAH,YAAY,CAAC,IAAI,CAAC;MAClBQ,iBAAiB,EAAE;MACnB;IACJ;EACJ,CAAC;;EAEDrB,SAAS,CAAC,MAAM;IACZ,IAAGoB,OAAO,CAACiB,OAAO,EAAC;MACfjB,OAAO,CAACiB,OAAO,CAACC,SAAS,GAAGlB,OAAO,CAACiB,OAAO,CAACE,YAAY;IAC5D;EACJ,CAAC,EAAC,CAAC7B,UAAU,CAAC,CAAC;EAGf,oBACIJ,OAAA;IAAKkC,EAAE,EAAE,SAAU;IAAAC,QAAA,GAEX7B,SAAS,iBACTN,OAAA;MAAKoC,SAAS,EAAE,iBAAkB;MAAAD,QAAA,eAC9BnC,OAAA;QAAKoC,SAAS,EAAE,SAAU;QAAAD,QAAA,eACtBnC,OAAA,CAACF,YAAY;UAACuC,IAAI,EAAE,SAAU;UAACC,KAAK,EAAE;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAChD;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACJ,eAGV1C,OAAA;MAAKoC,SAAS,EAAC,oBAAoB;MAAAD,QAAA,gBAC/BnC,OAAA;QACIqC,IAAI,EAAC,MAAM;QACXD,SAAS,EAAC,YAAY;QACtBO,WAAW,EAAE,0BAA2B;QACxCC,KAAK,EAAElC,SAAU;QACjBmC,QAAQ,EAAGjB,CAAC,IAAKjB,YAAY,CAACiB,CAAC,CAACkB,MAAM,CAACF,KAAK,CAAE;QAC9CG,OAAO,EAAGnB,CAAC,IAAKD,WAAW,CAACC,CAAC;MAAE;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACjC,eACF1C,OAAA;QAAKoC,SAAS,EAAC,WAAW;QAAAD,QAAA,EAAC;MAAK;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAM;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACpC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACJ;AAEd;AAACvC,EAAA,CAvEQF,OAAO;AAAA+C,EAAA,GAAP/C,OAAO;AAyEhB,eAAeA,OAAO;AAAC,IAAA+C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}